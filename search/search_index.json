{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Overview RARE ( R outer for A cademia, R esearch E ducation) is an ongoing effort under the G\u00c9ANT 3 rd programme which focus on determining if a routing software platform solution can fit R E use cases. The project aims to integrate different pieces of software related to these building blocks: control plane : RARE uses FreerTr under the hood used as the control plane component data plane : P4 is used to describe the behavioral model of RARE data plane and communication interface between the control plane and data plane: Interface compliant to P4Runtime specification ensure this function A key part of the work consists in enabling a control plane software to pilot a data plane via a programmatic interface. P4 is such a language proposing an interface that allows data plane programmability. Note P4 core language attempts to be as much as possible independent from the target or NPU processor architecture. However architecture dependance is still prominent. Code adjustments followed by a target specific compilation is necessary if you want to run your p4 program on a specific architecture. You'll find in this page various guides that will help you deploy and use RARE/FreerTr router. Guides Each guide is IPv4/IPv6 compliant and falls under one category listed below: Network management features related to the network management plane Management SSH, TELNET client/server AAA security model TACACS, RADIUS client/server Accounting Streaming telemetry Routing features related to the control plane IGP OSPF, integrated IS-IS, LSRP (FreerTr own IGP) Label transport distribution LDP, IS-IS OSPF Segment Routing extension Internet protocol BGP Network service features belonging to the sevice plane MPLS L3VPN VPNv4 6VPE MPLS L2VPN Point to point L2VPN VPLS EVPN SRv6 (on-going) L3VPN function L2VPN function Dataplane FreerTr is a versatile control plane that supports various dataplane such as: UNIX raw socket: multiple FreerTr instance can run on the same host in order to simulate a complete lab regular network UNIX device: You can bind FreerTr interfaces to UNIX network devices. A typical use case is to run FreerTr as pure BGP route reflector control plane in a Service Provider backbone An other use case is to run FreerTr as a pure BGP route reflector control plane in order to ensure pod to pod communication in a Kubernetes cluster OpenFlow Supported P4 dataplane p4lang : bmv2 INTEL/BAREFOOT : TOFINO P4 on FPGA: CESNET liberouter project (on-going)","title":"Home"},{"location":"#overview","text":"RARE ( R outer for A cademia, R esearch E ducation) is an ongoing effort under the G\u00c9ANT 3 rd programme which focus on determining if a routing software platform solution can fit R E use cases. The project aims to integrate different pieces of software related to these building blocks: control plane : RARE uses FreerTr under the hood used as the control plane component data plane : P4 is used to describe the behavioral model of RARE data plane and communication interface between the control plane and data plane: Interface compliant to P4Runtime specification ensure this function A key part of the work consists in enabling a control plane software to pilot a data plane via a programmatic interface. P4 is such a language proposing an interface that allows data plane programmability. Note P4 core language attempts to be as much as possible independent from the target or NPU processor architecture. However architecture dependance is still prominent. Code adjustments followed by a target specific compilation is necessary if you want to run your p4 program on a specific architecture. You'll find in this page various guides that will help you deploy and use RARE/FreerTr router.","title":"Overview"},{"location":"#guides","text":"Each guide is IPv4/IPv6 compliant and falls under one category listed below:","title":"Guides"},{"location":"#network-management","text":"features related to the network management plane Management SSH, TELNET client/server AAA security model TACACS, RADIUS client/server Accounting Streaming telemetry","title":"Network management"},{"location":"#routing","text":"features related to the control plane IGP OSPF, integrated IS-IS, LSRP (FreerTr own IGP) Label transport distribution LDP, IS-IS OSPF Segment Routing extension Internet protocol BGP","title":"Routing"},{"location":"#network-service","text":"features belonging to the sevice plane MPLS L3VPN VPNv4 6VPE MPLS L2VPN Point to point L2VPN VPLS EVPN SRv6 (on-going) L3VPN function L2VPN function","title":"Network service"},{"location":"#dataplane","text":"FreerTr is a versatile control plane that supports various dataplane such as: UNIX raw socket: multiple FreerTr instance can run on the same host in order to simulate a complete lab regular network UNIX device: You can bind FreerTr interfaces to UNIX network devices. A typical use case is to run FreerTr as pure BGP route reflector control plane in a Service Provider backbone An other use case is to run FreerTr as a pure BGP route reflector control plane in order to ensure pod to pod communication in a Kubernetes cluster OpenFlow Supported P4 dataplane p4lang : bmv2 INTEL/BAREFOOT : TOFINO P4 on FPGA: CESNET liberouter project (on-going)","title":"Dataplane"},{"location":"about/","text":"RARE is a G\u00c9ANT project from the G\u00c9ANT third programme (GN4-3)","title":"About"},{"location":"getting-started/","text":"Getting started: ACME Service Provider Let's get ambitious and build step by step a Service Provider network for a fictious ACME company. Topology diagram Overview ACME service provider routers are organized as follow: C2 , C3 , C4 , C5 are pure MPLS Label Switch Router ( LSR ) C1 , C7 , C8 are MPLS Label Edge Router ( LER ) C9 is ACME core network: BGP route reflector TACACS server Protocols used are: OSPF LDP BGP with IPv4, IPv6, 6VPE, VPLS, EVPN address-family Management for all routers are possible using: telnet: passwordless telnet for the lab purpose SSH authentication: authenticated by C9 acting a ACME TACACS server R10 , R11 , R12 are ACME CPEs and are configured to access network services provided by ACME LER routers. Last but not least, we will deploy RARE/FreerTr with bmv2 P4 dataplane TL;DR Set up a p4lang p4 environment: using RARE p4 ppa in Launchpad using Andy Fingerhut scripts from his p4 guide. Clone RARE repository from GitHub: git clone https : // github . com / frederic - loui / RARE . git Warning RARE packages on Launchpad are daily built. It happens that changes applied to p4 software master branches can prevent the packages to be build properly. While waiting for the packages build to be fixed, it is therefore reccommended to use p4-guides scripts or the manual method of your choice to set up a p4 environement. Also note that RARE is using p4runtime in order to ensure communication between FreerTr and the p4 switch, so you'll need to build bmv2 and enable simple_switch_grpc target. Launch the whole topology cd RARE / 02 - PE - labs / 0000 - topology - B / make Enjoy ACME network lab Undertake end to end ping test from R10,R11,R12 Check BGP route reflection and use FreerTr CLI to verify BGP NLRI and adress-family session establishment Check LDP and MPLS forwarding Check VPLS and EVPN at LER level Check VPNv4 and 6VPE at LER level any to any VPN with 1 RT and a many to one wth 2 RT) etc.","title":"Getting started"},{"location":"getting-started/#getting-started-acme-service-provider","text":"Let's get ambitious and build step by step a Service Provider network for a fictious ACME company.","title":"Getting started: ACME Service Provider"},{"location":"getting-started/#topology-diagram","text":"","title":"Topology diagram"},{"location":"getting-started/#overview","text":"ACME service provider routers are organized as follow: C2 , C3 , C4 , C5 are pure MPLS Label Switch Router ( LSR ) C1 , C7 , C8 are MPLS Label Edge Router ( LER ) C9 is ACME core network: BGP route reflector TACACS server Protocols used are: OSPF LDP BGP with IPv4, IPv6, 6VPE, VPLS, EVPN address-family Management for all routers are possible using: telnet: passwordless telnet for the lab purpose SSH authentication: authenticated by C9 acting a ACME TACACS server R10 , R11 , R12 are ACME CPEs and are configured to access network services provided by ACME LER routers. Last but not least, we will deploy RARE/FreerTr with bmv2 P4 dataplane","title":"Overview"},{"location":"getting-started/#tldr","text":"Set up a p4lang p4 environment: using RARE p4 ppa in Launchpad using Andy Fingerhut scripts from his p4 guide. Clone RARE repository from GitHub: git clone https : // github . com / frederic - loui / RARE . git Warning RARE packages on Launchpad are daily built. It happens that changes applied to p4 software master branches can prevent the packages to be build properly. While waiting for the packages build to be fixed, it is therefore reccommended to use p4-guides scripts or the manual method of your choice to set up a p4 environement. Also note that RARE is using p4runtime in order to ensure communication between FreerTr and the p4 switch, so you'll need to build bmv2 and enable simple_switch_grpc target. Launch the whole topology cd RARE / 02 - PE - labs / 0000 - topology - B / make Enjoy ACME network lab Undertake end to end ping test from R10,R11,R12 Check BGP route reflection and use FreerTr CLI to verify BGP NLRI and adress-family session establishment Check LDP and MPLS forwarding Check VPLS and EVPN at LER level Check VPNv4 and 6VPE at LER level any to any VPN with 1 RT and a many to one wth 2 RT) etc.","title":"TL;DR"},{"location":"license/","text":"License Copyright [2019] [G\u00c9ANT RARE project] Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at: http : // www . apache . org / licenses / LICENSE - 2 . 0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.","title":"License"},{"location":"license/#license","text":"Copyright [2019] [G\u00c9ANT RARE project] Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at: http : // www . apache . org / licenses / LICENSE - 2 . 0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.","title":"License"},{"location":"guides/control-plane/","text":"Routing configuration guide Interior Gateway Protocol OSPF Integrated IS-IS Label Transport Protocol LDP OSPF Segment Routing extension Integrated IS-IS Segment Routing extension Internet Protocol BGP","title":"**Routing configuration guide** ![under-contruction-small](/img/under-construction-small.png)"},{"location":"guides/control-plane/#routing-configuration-guide","text":"","title":"Routing configuration guide"},{"location":"guides/control-plane/#interior-gateway-protocol","text":"","title":"Interior Gateway Protocol"},{"location":"guides/control-plane/#ospf","text":"","title":"OSPF"},{"location":"guides/control-plane/#integrated-is-is","text":"","title":"Integrated IS-IS"},{"location":"guides/control-plane/#label-transport-protocol","text":"","title":"Label Transport Protocol"},{"location":"guides/control-plane/#ldp","text":"","title":"LDP"},{"location":"guides/control-plane/#ospf-segment-routing-extension","text":"","title":"OSPF Segment Routing extension"},{"location":"guides/control-plane/#integrated-is-is-segment-routing-extension","text":"","title":"Integrated IS-IS Segment Routing extension"},{"location":"guides/control-plane/#internet-protocol","text":"","title":"Internet Protocol"},{"location":"guides/control-plane/#bgp","text":"","title":"BGP"},{"location":"guides/control-plane/igp/ospf/","text":"Open Shortest Path First Configuration OSPF point to point connection Interoperability test OSPF point to point connection","title":"**Open Shortest Path First** ![under-contruction-small](/img/under-construction-small.png)"},{"location":"guides/control-plane/igp/ospf/#open-shortest-path-first","text":"","title":"Open Shortest Path First"},{"location":"guides/control-plane/igp/ospf/#configuration","text":"","title":"Configuration"},{"location":"guides/control-plane/igp/ospf/#ospf-point-to-point-connection","text":"","title":"OSPF point to point connection"},{"location":"guides/control-plane/igp/ospf/#interoperability-test","text":"","title":"Interoperability test"},{"location":"guides/control-plane/igp/ospf/#ospf-point-to-point-connection_1","text":"","title":"OSPF point to point connection"},{"location":"guides/control-plane/igp/ospf/intop1-ospf01/","text":"Interoperability test: ospf point to point connection Establish OSPF point to point adjaceny between FreerTr and cisco IOS Topology diagram Configuration r1: ! vrf def v1 rd 1 : 1 exit router ospf4 1 vrf v1 router 4 . 4 . 4 . 1 area 0 ena red conn exit router ospf6 1 vrf v1 router 6 . 6 . 6 . 1 area 0 ena red conn exit int eth1 vrf for v1 ipv4 addr 1 . 1 . 1 . 1 255 . 255 . 255 . 0 ipv6 addr fe80 :: 1 ffff :: router ospf4 1 ena router ospf6 1 ena exit int lo0 vrf for v1 ipv4 addr 2 . 2 . 2 . 1 255 . 255 . 255 . 255 ipv6 addr 4321 :: 1 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff exit ! r2: ! ip routing ipv6 unicast - routing interface loopback0 ip addr 2 . 2 . 2 . 2 255 . 255 . 255 . 255 ipv6 addr 4321 :: 2 / 128 exit router ospf 1 redistribute connected subnets exit ipv6 router ospf 1 redistribute connected exit interface gigabit1 ip address 1 . 1 . 1 . 2 255 . 255 . 255 . 0 ipv6 enable ip ospf network point - to - point ip ospf 1 area 0 ipv6 ospf network point - to - point ipv6 ospf 1 area 0 no shutdown exit ! Verification r1 ping 2 . 2 . 2 . 2 / vrf v1 r2 ping 2 . 2 . 2 . 1 / vrf v1 r1 ping 4321 :: 2 / vrf v1 r2 ping 4321 :: 1 / vrf v1 show ipv4 ospf 1 interfaces cli output show ipv4 ospf 1 neighbors cli output show ipv4 ospf 1 database 0 cli output show ipv6 ospf 1 interfaces cli output show ipv6 ospf 1 neighbors cli output show ipv6 ospf 1 database 0 cli output","title":"Interoperability test: ospf point to point connection"},{"location":"guides/control-plane/igp/ospf/intop1-ospf01/#interoperability-test-ospf-point-to-point-connection","text":"Establish OSPF point to point adjaceny between FreerTr and cisco IOS","title":"Interoperability test: ospf point to point connection"},{"location":"guides/control-plane/igp/ospf/intop1-ospf01/#topology-diagram","text":"","title":"Topology diagram"},{"location":"guides/control-plane/igp/ospf/intop1-ospf01/#configuration","text":"r1: ! vrf def v1 rd 1 : 1 exit router ospf4 1 vrf v1 router 4 . 4 . 4 . 1 area 0 ena red conn exit router ospf6 1 vrf v1 router 6 . 6 . 6 . 1 area 0 ena red conn exit int eth1 vrf for v1 ipv4 addr 1 . 1 . 1 . 1 255 . 255 . 255 . 0 ipv6 addr fe80 :: 1 ffff :: router ospf4 1 ena router ospf6 1 ena exit int lo0 vrf for v1 ipv4 addr 2 . 2 . 2 . 1 255 . 255 . 255 . 255 ipv6 addr 4321 :: 1 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff exit ! r2: ! ip routing ipv6 unicast - routing interface loopback0 ip addr 2 . 2 . 2 . 2 255 . 255 . 255 . 255 ipv6 addr 4321 :: 2 / 128 exit router ospf 1 redistribute connected subnets exit ipv6 router ospf 1 redistribute connected exit interface gigabit1 ip address 1 . 1 . 1 . 2 255 . 255 . 255 . 0 ipv6 enable ip ospf network point - to - point ip ospf 1 area 0 ipv6 ospf network point - to - point ipv6 ospf 1 area 0 no shutdown exit !","title":"Configuration"},{"location":"guides/control-plane/igp/ospf/intop1-ospf01/#verification","text":"r1 ping 2 . 2 . 2 . 2 / vrf v1 r2 ping 2 . 2 . 2 . 1 / vrf v1 r1 ping 4321 :: 2 / vrf v1 r2 ping 4321 :: 1 / vrf v1 show ipv4 ospf 1 interfaces cli output show ipv4 ospf 1 neighbors cli output show ipv4 ospf 1 database 0 cli output show ipv6 ospf 1 interfaces cli output show ipv6 ospf 1 neighbors cli output show ipv6 ospf 1 database 0 cli output","title":"Verification"},{"location":"guides/control-plane/igp/ospf/rout-ospf/","text":"Example: ospf point to point chain Establish ospf point to point adjaceny between 4 nodes Topology diagram Configuration r1: hostname r1 buggy ! logging file debug .. / binTmp / zzz - log - r1 . run ! vrf definition v1 rd 1 : 1 exit ! router ospf4 1 vrf v1 router - id 4 . 4 . 4 . 1 traffeng - id 0 . 0 . 0 . 0 area 0 enable redistribute connected exit ! router ospf6 1 vrf v1 router - id 6 . 6 . 6 . 1 traffeng - id :: area 0 enable redistribute connected exit ! interface loopback1 no description vrf forwarding v1 ipv4 address 2 . 2 . 2 . 1 255 . 255 . 255 . 255 ipv6 address 4321 :: 1 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff no shutdown no log - link - change exit ! interface ethernet1 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 1 255 . 255 . 255 . 252 ipv6 address 1234 : 1 :: 1 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! ! ! ! ! ! ! ! ! ! ! ! ! ! ! end r2: hostname r2 buggy ! logging file debug .. / binTmp / zzz - log - r2 . run ! vrf definition v1 rd 1 : 1 exit ! router ospf4 1 vrf v1 router - id 4 . 4 . 4 . 2 traffeng - id 0 . 0 . 0 . 0 area 0 enable redistribute connected exit ! router ospf6 1 vrf v1 router - id 6 . 6 . 6 . 2 traffeng - id :: area 0 enable redistribute connected exit ! interface loopback1 no description vrf forwarding v1 ipv4 address 2 . 2 . 2 . 2 255 . 255 . 255 . 255 ipv6 address 4321 :: 2 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff no shutdown no log - link - change exit ! interface ethernet1 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 2 255 . 255 . 255 . 252 ipv6 address 1234 : 1 :: 2 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! interface ethernet2 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 5 255 . 255 . 255 . 252 ipv6 address 1234 : 2 :: 1 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! ! ! ! ! ! ! ! ! ! ! ! ! ! ! end r3: hostname r3 buggy ! logging file debug .. / binTmp / zzz - log - r3 . run ! vrf definition v1 rd 1 : 1 exit ! router ospf4 1 vrf v1 router - id 4 . 4 . 4 . 3 traffeng - id 0 . 0 . 0 . 0 area 0 enable redistribute connected exit ! router ospf6 1 vrf v1 router - id 6 . 6 . 6 . 3 traffeng - id :: area 0 enable redistribute connected exit ! interface loopback1 no description vrf forwarding v1 ipv4 address 2 . 2 . 2 . 3 255 . 255 . 255 . 255 ipv6 address 4321 :: 3 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff no shutdown no log - link - change exit ! interface ethernet1 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 6 255 . 255 . 255 . 252 ipv6 address 1234 : 2 :: 2 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! interface ethernet2 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 9 255 . 255 . 255 . 252 ipv6 address 1234 : 3 :: 1 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! ! ! ! ! ! ! ! ! ! ! ! ! ! ! end r4: hostname r4 buggy ! logging file debug .. / binTmp / zzz - log - r4 . run ! vrf definition v1 rd 1 : 1 exit ! router ospf4 1 vrf v1 router - id 4 . 4 . 4 . 4 traffeng - id 0 . 0 . 0 . 0 area 0 enable redistribute connected exit ! router ospf6 1 vrf v1 router - id 6 . 6 . 6 . 4 traffeng - id :: area 0 enable redistribute connected exit ! interface loopback1 no description vrf forwarding v1 ipv4 address 2 . 2 . 2 . 4 255 . 255 . 255 . 255 ipv6 address 4321 :: 4 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff no shutdown no log - link - change exit ! interface ethernet1 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 10 255 . 255 . 255 . 252 ipv6 address 1234 : 3 :: 2 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! ! ! ! ! ! ! ! ! ! ! ! ! ! ! end Verification r2 # r2 # r2 # show ipv4 ospf 1 nei r2 # show ipv4 ospf 1 nei |~~~~~~~~~~~|~~~~~~~~~|~~~~~~~~~~|~~~~~~~~~~| | interface | address | routerid | uptime | |-----------|---------|----------|----------| | ethernet1 | 1 . 1 . 1 . 1 | 4 . 4 . 4 . 1 | 00 : 00 : 11 | | ethernet2 | 1 . 1 . 1 . 6 | 4 . 4 . 4 . 3 | 00 : 00 : 11 | | ___________ | _________ | __________ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv6 ospf 1 nei r2 # show ipv6 ospf 1 nei |~~~~~~~~~~~|~~~~~~~~~~~|~~~~~~~~~~|~~~~~~~~~~| | interface | address | routerid | uptime | |-----------|-----------|----------|----------| | ethernet1 | 1234 : 1 :: 1 | 6 . 6 . 6 . 1 | 00 : 00 : 12 | | ethernet2 | 1234 : 2 :: 2 | 6 . 6 . 6 . 3 | 00 : 00 : 12 | | ___________ | ___________ | __________ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv4 ospf 1 dat 0 r2 # show ipv4 ospf 1 dat 0 |~~~~~~~~~~|~~~~~~~~~|~~~~~~~~~~|~~~~~~~~~~~~|~~~~~|~~~~~~~~~~| | routerid | lsaid | sequence | type | len | time | |----------|---------|----------|------------|-----|----------| | 4 . 4 . 4 . 1 | 4 . 4 . 4 . 1 | 80000004 | router | 28 | 00 : 00 : 11 | | 4 . 4 . 4 . 2 | 4 . 4 . 4 . 2 | 80000006 | router | 52 | 00 : 00 : 11 | | 4 . 4 . 4 . 3 | 4 . 4 . 4 . 3 | 80000006 | router | 52 | 00 : 00 : 08 | | 4 . 4 . 4 . 4 | 4 . 4 . 4 . 4 | 80000004 | router | 28 | 00 : 00 : 08 | | 4 . 4 . 4 . 2 | 0 . 0 . 0 . 0 | 80000004 | asExternal | 16 | 01 : 00 : 12 | | 4 . 4 . 4 . 3 | 0 . 0 . 0 . 0 | 80000006 | asExternal | 16 | 01 : 00 : 11 | | 4 . 4 . 4 . 4 | 0 . 0 . 0 . 0 | 80000002 | asExternal | 16 | 01 : 00 : 12 | | 4 . 4 . 4 . 1 | 1 . 1 . 1 . 0 | 80000001 | asExternal | 16 | 00 : 00 : 12 | | 4 . 4 . 4 . 2 | 1 . 1 . 1 . 0 | 80000001 | asExternal | 16 | 00 : 00 : 12 | | 4 . 4 . 4 . 2 | 1 . 1 . 1 . 4 | 80000001 | asExternal | 16 | 00 : 00 : 12 | | 4 . 4 . 4 . 3 | 1 . 1 . 1 . 4 | 80000001 | asExternal | 16 | 00 : 00 : 12 | | 4 . 4 . 4 . 3 | 1 . 1 . 1 . 8 | 80000001 | asExternal | 16 | 00 : 00 : 11 | | 4 . 4 . 4 . 4 | 1 . 1 . 1 . 8 | 80000001 | asExternal | 16 | 00 : 00 : 12 | | 4 . 4 . 4 . 1 | 2 . 2 . 2 . 1 | 80000001 | asExternal | 16 | 00 : 00 : 12 | | 4 . 4 . 4 . 2 | 2 . 2 . 2 . 2 | 80000001 | asExternal | 16 | 00 : 00 : 12 | | 4 . 4 . 4 . 3 | 2 . 2 . 2 . 3 | 80000001 | asExternal | 16 | 00 : 00 : 12 | | 4 . 4 . 4 . 4 | 2 . 2 . 2 . 4 | 80000001 | asExternal | 16 | 00 : 00 : 12 | | __________ | _________ | __________ | ____________ | _____ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv6 ospf 1 dat 0 r2 # show ipv6 ospf 1 dat 0 |~~~~~~~~~~|~~~~~~~|~~~~~~~~~~|~~~~~~~~~~~~|~~~~~|~~~~~~~~~~| | routerid | lsaid | sequence | type | len | time | |----------|-------|----------|------------|-----|----------| | 6 . 6 . 6 . 1 | 10012 | 80000001 | link | 24 | 00 : 00 : 13 | | 6 . 6 . 6 . 2 | 10012 | 80000001 | link | 24 | 00 : 00 : 12 | | 6 . 6 . 6 . 3 | 10012 | 80000001 | link | 24 | 00 : 00 : 12 | | 6 . 6 . 6 . 4 | 10012 | 80000001 | link | 24 | 00 : 00 : 12 | | 6 . 6 . 6 . 2 | 10013 | 80000001 | link | 24 | 00 : 00 : 12 | | 6 . 6 . 6 . 3 | 10013 | 80000001 | link | 24 | 00 : 00 : 11 | | 6 . 6 . 6 . 1 | 0 | 80000003 | router | 20 | 00 : 00 : 12 | | 6 . 6 . 6 . 2 | 0 | 80000004 | router | 36 | 00 : 00 : 11 | | 6 . 6 . 6 . 3 | 0 | 80000004 | router | 36 | 00 : 00 : 08 | | 6 . 6 . 6 . 4 | 0 | 80000003 | router | 20 | 00 : 00 : 08 | | 6 . 6 . 6 . 1 | 10012 | 80000001 | prefix | 20 | 00 : 00 : 13 | | 6 . 6 . 6 . 2 | 10012 | 80000001 | prefix | 20 | 00 : 00 : 12 | | 6 . 6 . 6 . 3 | 10012 | 80000001 | prefix | 20 | 00 : 00 : 12 | | 6 . 6 . 6 . 4 | 10012 | 80000001 | prefix | 20 | 00 : 00 : 12 | | 6 . 6 . 6 . 2 | 10013 | 80000001 | prefix | 20 | 00 : 00 : 12 | | 6 . 6 . 6 . 3 | 10013 | 80000001 | prefix | 20 | 00 : 00 : 11 | | 6 . 6 . 6 . 1 | 0 | 80000002 | asExternal | 16 | 00 : 00 : 13 | | 6 . 6 . 6 . 2 | 0 | 80000006 | asExternal | 16 | 00 : 00 : 12 | | 6 . 6 . 6 . 3 | 0 | 80000005 | asExternal | 16 | 00 : 00 : 11 | | 6 . 6 . 6 . 4 | 0 | 80000003 | asExternal | 16 | 00 : 00 : 12 | | 6 . 6 . 6 . 1 | 1 | 80000001 | asExternal | 28 | 00 : 00 : 13 | | 6 . 6 . 6 . 2 | 1 | 80000003 | asExternal | 16 | 00 : 00 : 12 | | 6 . 6 . 6 . 3 | 1 | 80000003 | asExternal | 16 | 00 : 00 : 11 | | 6 . 6 . 6 . 4 | 1 | 80000001 | asExternal | 28 | 00 : 00 : 12 | | 6 . 6 . 6 . 2 | 2 | 80000001 | asExternal | 28 | 00 : 00 : 12 | | 6 . 6 . 6 . 3 | 2 | 80000001 | asExternal | 28 | 00 : 00 : 11 | | __________ | _______ | __________ | ____________ | _____ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv4 ospf 1 tre 0 r2 # show ipv4 ospf 1 tre 0 ` -- 4 . 4 . 4 . 2 | ` -- 4 . 4 . 4 . 1 ` -- 4 . 4 . 4 . 3 ` -- 4 . 4 . 4 . 4 r2 # r2 # r2 # r2 # r2 # show ipv6 ospf 1 tre 0 r2 # show ipv6 ospf 1 tre 0 ` -- 6 . 6 . 6 . 2 / 00000000 | ` -- 6 . 6 . 6 . 1 / 00000000 ` -- 6 . 6 . 6 . 3 / 00000000 ` -- 6 . 6 . 6 . 4 / 00000000 r2 # r2 # r2 # r2 # r2 # show ipv4 route v1 r2 # show ipv4 route v1 |~~~~~|~~~~~~~~~~~~|~~~~~~~~|~~~~~~~~~~~|~~~~~~~~~|~~~~~~~~~~| | typ | prefix | metric | iface | hop | time | |-----|------------|--------|-----------|---------|----------| | C | 1 . 1 . 1 . 0 / 30 | 0 / 0 | ethernet1 | null | 00 : 00 : 09 | | LOC | 1 . 1 . 1 . 2 / 32 | 0 / 1 | ethernet1 | null | 00 : 00 : 09 | | C | 1 . 1 . 1 . 4 / 30 | 0 / 0 | ethernet2 | null | 00 : 00 : 09 | | LOC | 1 . 1 . 1 . 5 / 32 | 0 / 1 | ethernet2 | null | 00 : 00 : 09 | | O | 1 . 1 . 1 . 8 / 30 | 110 / 1 | ethernet2 | 1 . 1 . 1 . 6 | 00 : 00 : 09 | | O | 2 . 2 . 2 . 1 / 32 | 110 / 0 | ethernet1 | 1 . 1 . 1 . 1 | 00 : 00 : 09 | | C | 2 . 2 . 2 . 2 / 32 | 0 / 0 | loopback1 | null | 00 : 00 : 09 | | O | 2 . 2 . 2 . 3 / 32 | 110 / 0 | ethernet2 | 1 . 1 . 1 . 6 | 00 : 00 : 09 | | O | 2 . 2 . 2 . 4 / 32 | 110 / 0 | ethernet2 | 1 . 1 . 1 . 6 | 00 : 00 : 09 | | _____ | ____________ | ________ | ___________ | _________ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv6 route v1 r2 # show ipv6 route v1 |~~~~~|~~~~~~~~~~~~~~~|~~~~~~~~|~~~~~~~~~~~|~~~~~~~~~~~|~~~~~~~~~~| | typ | prefix | metric | iface | hop | time | |-----|---------------|--------|-----------|-----------|----------| | C | 1234 : 1 :: / 32 | 0 / 0 | ethernet1 | null | 00 : 00 : 09 | | LOC | 1234 : 1 :: 2 / 128 | 0 / 1 | ethernet1 | null | 00 : 00 : 09 | | C | 1234 : 2 :: / 32 | 0 / 0 | ethernet2 | null | 00 : 00 : 09 | | LOC | 1234 : 2 :: 1 / 128 | 0 / 1 | ethernet2 | null | 00 : 00 : 09 | | O | 1234 : 3 :: / 32 | 110 / 1 | ethernet2 | 1234 : 2 :: 2 | 00 : 00 : 09 | | O | 4321 :: 1 / 128 | 110 / 0 | ethernet1 | 1234 : 1 :: 1 | 00 : 00 : 09 | | C | 4321 :: 2 / 128 | 0 / 0 | loopback1 | null | 00 : 00 : 09 | | O | 4321 :: 3 / 128 | 110 / 0 | ethernet2 | 1234 : 2 :: 2 | 00 : 00 : 09 | | O | 4321 :: 4 / 128 | 110 / 0 | ethernet2 | 1234 : 2 :: 2 | 00 : 00 : 09 | | _____ | _______________ | ________ | ___________ | ___________ | __________ | r2 # r2 #","title":"Example: ospf point to point chain"},{"location":"guides/control-plane/igp/ospf/rout-ospf/#example-ospf-point-to-point-chain","text":"Establish ospf point to point adjaceny between 4 nodes","title":"Example: ospf point to point chain"},{"location":"guides/control-plane/igp/ospf/rout-ospf/#topology-diagram","text":"","title":"Topology diagram"},{"location":"guides/control-plane/igp/ospf/rout-ospf/#configuration","text":"r1: hostname r1 buggy ! logging file debug .. / binTmp / zzz - log - r1 . run ! vrf definition v1 rd 1 : 1 exit ! router ospf4 1 vrf v1 router - id 4 . 4 . 4 . 1 traffeng - id 0 . 0 . 0 . 0 area 0 enable redistribute connected exit ! router ospf6 1 vrf v1 router - id 6 . 6 . 6 . 1 traffeng - id :: area 0 enable redistribute connected exit ! interface loopback1 no description vrf forwarding v1 ipv4 address 2 . 2 . 2 . 1 255 . 255 . 255 . 255 ipv6 address 4321 :: 1 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff no shutdown no log - link - change exit ! interface ethernet1 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 1 255 . 255 . 255 . 252 ipv6 address 1234 : 1 :: 1 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! ! ! ! ! ! ! ! ! ! ! ! ! ! ! end r2: hostname r2 buggy ! logging file debug .. / binTmp / zzz - log - r2 . run ! vrf definition v1 rd 1 : 1 exit ! router ospf4 1 vrf v1 router - id 4 . 4 . 4 . 2 traffeng - id 0 . 0 . 0 . 0 area 0 enable redistribute connected exit ! router ospf6 1 vrf v1 router - id 6 . 6 . 6 . 2 traffeng - id :: area 0 enable redistribute connected exit ! interface loopback1 no description vrf forwarding v1 ipv4 address 2 . 2 . 2 . 2 255 . 255 . 255 . 255 ipv6 address 4321 :: 2 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff no shutdown no log - link - change exit ! interface ethernet1 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 2 255 . 255 . 255 . 252 ipv6 address 1234 : 1 :: 2 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! interface ethernet2 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 5 255 . 255 . 255 . 252 ipv6 address 1234 : 2 :: 1 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! ! ! ! ! ! ! ! ! ! ! ! ! ! ! end r3: hostname r3 buggy ! logging file debug .. / binTmp / zzz - log - r3 . run ! vrf definition v1 rd 1 : 1 exit ! router ospf4 1 vrf v1 router - id 4 . 4 . 4 . 3 traffeng - id 0 . 0 . 0 . 0 area 0 enable redistribute connected exit ! router ospf6 1 vrf v1 router - id 6 . 6 . 6 . 3 traffeng - id :: area 0 enable redistribute connected exit ! interface loopback1 no description vrf forwarding v1 ipv4 address 2 . 2 . 2 . 3 255 . 255 . 255 . 255 ipv6 address 4321 :: 3 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff no shutdown no log - link - change exit ! interface ethernet1 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 6 255 . 255 . 255 . 252 ipv6 address 1234 : 2 :: 2 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! interface ethernet2 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 9 255 . 255 . 255 . 252 ipv6 address 1234 : 3 :: 1 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! ! ! ! ! ! ! ! ! ! ! ! ! ! ! end r4: hostname r4 buggy ! logging file debug .. / binTmp / zzz - log - r4 . run ! vrf definition v1 rd 1 : 1 exit ! router ospf4 1 vrf v1 router - id 4 . 4 . 4 . 4 traffeng - id 0 . 0 . 0 . 0 area 0 enable redistribute connected exit ! router ospf6 1 vrf v1 router - id 6 . 6 . 6 . 4 traffeng - id :: area 0 enable redistribute connected exit ! interface loopback1 no description vrf forwarding v1 ipv4 address 2 . 2 . 2 . 4 255 . 255 . 255 . 255 ipv6 address 4321 :: 4 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff no shutdown no log - link - change exit ! interface ethernet1 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 10 255 . 255 . 255 . 252 ipv6 address 1234 : 3 :: 2 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! ! ! ! ! ! ! ! ! ! ! ! ! ! ! end","title":"Configuration"},{"location":"guides/control-plane/igp/ospf/rout-ospf/#verification","text":"r2 # r2 # r2 # show ipv4 ospf 1 nei r2 # show ipv4 ospf 1 nei |~~~~~~~~~~~|~~~~~~~~~|~~~~~~~~~~|~~~~~~~~~~| | interface | address | routerid | uptime | |-----------|---------|----------|----------| | ethernet1 | 1 . 1 . 1 . 1 | 4 . 4 . 4 . 1 | 00 : 00 : 11 | | ethernet2 | 1 . 1 . 1 . 6 | 4 . 4 . 4 . 3 | 00 : 00 : 11 | | ___________ | _________ | __________ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv6 ospf 1 nei r2 # show ipv6 ospf 1 nei |~~~~~~~~~~~|~~~~~~~~~~~|~~~~~~~~~~|~~~~~~~~~~| | interface | address | routerid | uptime | |-----------|-----------|----------|----------| | ethernet1 | 1234 : 1 :: 1 | 6 . 6 . 6 . 1 | 00 : 00 : 12 | | ethernet2 | 1234 : 2 :: 2 | 6 . 6 . 6 . 3 | 00 : 00 : 12 | | ___________ | ___________ | __________ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv4 ospf 1 dat 0 r2 # show ipv4 ospf 1 dat 0 |~~~~~~~~~~|~~~~~~~~~|~~~~~~~~~~|~~~~~~~~~~~~|~~~~~|~~~~~~~~~~| | routerid | lsaid | sequence | type | len | time | |----------|---------|----------|------------|-----|----------| | 4 . 4 . 4 . 1 | 4 . 4 . 4 . 1 | 80000004 | router | 28 | 00 : 00 : 11 | | 4 . 4 . 4 . 2 | 4 . 4 . 4 . 2 | 80000006 | router | 52 | 00 : 00 : 11 | | 4 . 4 . 4 . 3 | 4 . 4 . 4 . 3 | 80000006 | router | 52 | 00 : 00 : 08 | | 4 . 4 . 4 . 4 | 4 . 4 . 4 . 4 | 80000004 | router | 28 | 00 : 00 : 08 | | 4 . 4 . 4 . 2 | 0 . 0 . 0 . 0 | 80000004 | asExternal | 16 | 01 : 00 : 12 | | 4 . 4 . 4 . 3 | 0 . 0 . 0 . 0 | 80000006 | asExternal | 16 | 01 : 00 : 11 | | 4 . 4 . 4 . 4 | 0 . 0 . 0 . 0 | 80000002 | asExternal | 16 | 01 : 00 : 12 | | 4 . 4 . 4 . 1 | 1 . 1 . 1 . 0 | 80000001 | asExternal | 16 | 00 : 00 : 12 | | 4 . 4 . 4 . 2 | 1 . 1 . 1 . 0 | 80000001 | asExternal | 16 | 00 : 00 : 12 | | 4 . 4 . 4 . 2 | 1 . 1 . 1 . 4 | 80000001 | asExternal | 16 | 00 : 00 : 12 | | 4 . 4 . 4 . 3 | 1 . 1 . 1 . 4 | 80000001 | asExternal | 16 | 00 : 00 : 12 | | 4 . 4 . 4 . 3 | 1 . 1 . 1 . 8 | 80000001 | asExternal | 16 | 00 : 00 : 11 | | 4 . 4 . 4 . 4 | 1 . 1 . 1 . 8 | 80000001 | asExternal | 16 | 00 : 00 : 12 | | 4 . 4 . 4 . 1 | 2 . 2 . 2 . 1 | 80000001 | asExternal | 16 | 00 : 00 : 12 | | 4 . 4 . 4 . 2 | 2 . 2 . 2 . 2 | 80000001 | asExternal | 16 | 00 : 00 : 12 | | 4 . 4 . 4 . 3 | 2 . 2 . 2 . 3 | 80000001 | asExternal | 16 | 00 : 00 : 12 | | 4 . 4 . 4 . 4 | 2 . 2 . 2 . 4 | 80000001 | asExternal | 16 | 00 : 00 : 12 | | __________ | _________ | __________ | ____________ | _____ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv6 ospf 1 dat 0 r2 # show ipv6 ospf 1 dat 0 |~~~~~~~~~~|~~~~~~~|~~~~~~~~~~|~~~~~~~~~~~~|~~~~~|~~~~~~~~~~| | routerid | lsaid | sequence | type | len | time | |----------|-------|----------|------------|-----|----------| | 6 . 6 . 6 . 1 | 10012 | 80000001 | link | 24 | 00 : 00 : 13 | | 6 . 6 . 6 . 2 | 10012 | 80000001 | link | 24 | 00 : 00 : 12 | | 6 . 6 . 6 . 3 | 10012 | 80000001 | link | 24 | 00 : 00 : 12 | | 6 . 6 . 6 . 4 | 10012 | 80000001 | link | 24 | 00 : 00 : 12 | | 6 . 6 . 6 . 2 | 10013 | 80000001 | link | 24 | 00 : 00 : 12 | | 6 . 6 . 6 . 3 | 10013 | 80000001 | link | 24 | 00 : 00 : 11 | | 6 . 6 . 6 . 1 | 0 | 80000003 | router | 20 | 00 : 00 : 12 | | 6 . 6 . 6 . 2 | 0 | 80000004 | router | 36 | 00 : 00 : 11 | | 6 . 6 . 6 . 3 | 0 | 80000004 | router | 36 | 00 : 00 : 08 | | 6 . 6 . 6 . 4 | 0 | 80000003 | router | 20 | 00 : 00 : 08 | | 6 . 6 . 6 . 1 | 10012 | 80000001 | prefix | 20 | 00 : 00 : 13 | | 6 . 6 . 6 . 2 | 10012 | 80000001 | prefix | 20 | 00 : 00 : 12 | | 6 . 6 . 6 . 3 | 10012 | 80000001 | prefix | 20 | 00 : 00 : 12 | | 6 . 6 . 6 . 4 | 10012 | 80000001 | prefix | 20 | 00 : 00 : 12 | | 6 . 6 . 6 . 2 | 10013 | 80000001 | prefix | 20 | 00 : 00 : 12 | | 6 . 6 . 6 . 3 | 10013 | 80000001 | prefix | 20 | 00 : 00 : 11 | | 6 . 6 . 6 . 1 | 0 | 80000002 | asExternal | 16 | 00 : 00 : 13 | | 6 . 6 . 6 . 2 | 0 | 80000006 | asExternal | 16 | 00 : 00 : 12 | | 6 . 6 . 6 . 3 | 0 | 80000005 | asExternal | 16 | 00 : 00 : 11 | | 6 . 6 . 6 . 4 | 0 | 80000003 | asExternal | 16 | 00 : 00 : 12 | | 6 . 6 . 6 . 1 | 1 | 80000001 | asExternal | 28 | 00 : 00 : 13 | | 6 . 6 . 6 . 2 | 1 | 80000003 | asExternal | 16 | 00 : 00 : 12 | | 6 . 6 . 6 . 3 | 1 | 80000003 | asExternal | 16 | 00 : 00 : 11 | | 6 . 6 . 6 . 4 | 1 | 80000001 | asExternal | 28 | 00 : 00 : 12 | | 6 . 6 . 6 . 2 | 2 | 80000001 | asExternal | 28 | 00 : 00 : 12 | | 6 . 6 . 6 . 3 | 2 | 80000001 | asExternal | 28 | 00 : 00 : 11 | | __________ | _______ | __________ | ____________ | _____ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv4 ospf 1 tre 0 r2 # show ipv4 ospf 1 tre 0 ` -- 4 . 4 . 4 . 2 | ` -- 4 . 4 . 4 . 1 ` -- 4 . 4 . 4 . 3 ` -- 4 . 4 . 4 . 4 r2 # r2 # r2 # r2 # r2 # show ipv6 ospf 1 tre 0 r2 # show ipv6 ospf 1 tre 0 ` -- 6 . 6 . 6 . 2 / 00000000 | ` -- 6 . 6 . 6 . 1 / 00000000 ` -- 6 . 6 . 6 . 3 / 00000000 ` -- 6 . 6 . 6 . 4 / 00000000 r2 # r2 # r2 # r2 # r2 # show ipv4 route v1 r2 # show ipv4 route v1 |~~~~~|~~~~~~~~~~~~|~~~~~~~~|~~~~~~~~~~~|~~~~~~~~~|~~~~~~~~~~| | typ | prefix | metric | iface | hop | time | |-----|------------|--------|-----------|---------|----------| | C | 1 . 1 . 1 . 0 / 30 | 0 / 0 | ethernet1 | null | 00 : 00 : 09 | | LOC | 1 . 1 . 1 . 2 / 32 | 0 / 1 | ethernet1 | null | 00 : 00 : 09 | | C | 1 . 1 . 1 . 4 / 30 | 0 / 0 | ethernet2 | null | 00 : 00 : 09 | | LOC | 1 . 1 . 1 . 5 / 32 | 0 / 1 | ethernet2 | null | 00 : 00 : 09 | | O | 1 . 1 . 1 . 8 / 30 | 110 / 1 | ethernet2 | 1 . 1 . 1 . 6 | 00 : 00 : 09 | | O | 2 . 2 . 2 . 1 / 32 | 110 / 0 | ethernet1 | 1 . 1 . 1 . 1 | 00 : 00 : 09 | | C | 2 . 2 . 2 . 2 / 32 | 0 / 0 | loopback1 | null | 00 : 00 : 09 | | O | 2 . 2 . 2 . 3 / 32 | 110 / 0 | ethernet2 | 1 . 1 . 1 . 6 | 00 : 00 : 09 | | O | 2 . 2 . 2 . 4 / 32 | 110 / 0 | ethernet2 | 1 . 1 . 1 . 6 | 00 : 00 : 09 | | _____ | ____________ | ________ | ___________ | _________ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv6 route v1 r2 # show ipv6 route v1 |~~~~~|~~~~~~~~~~~~~~~|~~~~~~~~|~~~~~~~~~~~|~~~~~~~~~~~|~~~~~~~~~~| | typ | prefix | metric | iface | hop | time | |-----|---------------|--------|-----------|-----------|----------| | C | 1234 : 1 :: / 32 | 0 / 0 | ethernet1 | null | 00 : 00 : 09 | | LOC | 1234 : 1 :: 2 / 128 | 0 / 1 | ethernet1 | null | 00 : 00 : 09 | | C | 1234 : 2 :: / 32 | 0 / 0 | ethernet2 | null | 00 : 00 : 09 | | LOC | 1234 : 2 :: 1 / 128 | 0 / 1 | ethernet2 | null | 00 : 00 : 09 | | O | 1234 : 3 :: / 32 | 110 / 1 | ethernet2 | 1234 : 2 :: 2 | 00 : 00 : 09 | | O | 4321 :: 1 / 128 | 110 / 0 | ethernet1 | 1234 : 1 :: 1 | 00 : 00 : 09 | | C | 4321 :: 2 / 128 | 0 / 0 | loopback1 | null | 00 : 00 : 09 | | O | 4321 :: 3 / 128 | 110 / 0 | ethernet2 | 1234 : 2 :: 2 | 00 : 00 : 09 | | O | 4321 :: 4 / 128 | 110 / 0 | ethernet2 | 1234 : 2 :: 2 | 00 : 00 : 09 | | _____ | _______________ | ________ | ___________ | ___________ | __________ | r2 # r2 #","title":"Verification"},{"location":"guides/control-plane/igp/ospf/rout-ospf01/","text":"Example: ospf point to point connection Establish OSPF point to point adjaceny between 2 nodes Topology diagram Configuration r1: ! vrf def v1 rd 1 : 1 exit router ospf4 1 vrf v1 router 4 . 4 . 4 . 1 area 0 ena red conn exit router ospf6 1 vrf v1 router 6 . 6 . 6 . 1 area 0 ena red conn exit int lo1 vrf for v1 ipv4 addr 2 . 2 . 2 . 1 255 . 255 . 255 . 255 ipv6 addr 4321 :: 1 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff exit int eth1 vrf for v1 ipv4 addr 1 . 1 . 1 . 1 255 . 255 . 255 . 0 ipv6 addr 1234 :: 1 ffff :: router ospf4 1 ena router ospf6 1 ena exit ! r2: ! vrf def v1 rd 1 : 1 exit router ospf4 1 vrf v1 router 4 . 4 . 4 . 2 area 0 ena red conn exit router ospf6 1 vrf v1 router 6 . 6 . 6 . 2 area 0 ena red conn exit int lo1 vrf for v1 ipv4 addr 2 . 2 . 2 . 2 255 . 255 . 255 . 255 ipv6 addr 4321 :: 2 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff exit int eth1 vrf for v1 ipv4 addr 1 . 1 . 1 . 2 255 . 255 . 255 . 0 ipv6 addr 1234 :: 2 ffff :: router ospf4 1 ena router ospf6 1 ena exit ! Verification r1 ping 2 . 2 . 2 . 2 / vrf v1 r2 ping 2 . 2 . 2 . 1 / vrf v1 r1 ping 4321 :: 2 / vrf v1 r2 ping 4321 :: 1 / vrf v1 show ipv4 ospf 1 interfaces cli output show ipv4 ospf 1 neighbors cli output show ipv4 ospf 1 database 0 cli output show ipv6 ospf 1 interfaces cli output show ipv6 ospf 1 neighbors cli output show ipv6 ospf 1 database 0 cli output","title":"Example: ospf point to point connection"},{"location":"guides/control-plane/igp/ospf/rout-ospf01/#example-ospf-point-to-point-connection","text":"Establish OSPF point to point adjaceny between 2 nodes","title":"Example: ospf point to point connection"},{"location":"guides/control-plane/igp/ospf/rout-ospf01/#topology-diagram","text":"","title":"Topology diagram"},{"location":"guides/control-plane/igp/ospf/rout-ospf01/#configuration","text":"r1: ! vrf def v1 rd 1 : 1 exit router ospf4 1 vrf v1 router 4 . 4 . 4 . 1 area 0 ena red conn exit router ospf6 1 vrf v1 router 6 . 6 . 6 . 1 area 0 ena red conn exit int lo1 vrf for v1 ipv4 addr 2 . 2 . 2 . 1 255 . 255 . 255 . 255 ipv6 addr 4321 :: 1 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff exit int eth1 vrf for v1 ipv4 addr 1 . 1 . 1 . 1 255 . 255 . 255 . 0 ipv6 addr 1234 :: 1 ffff :: router ospf4 1 ena router ospf6 1 ena exit ! r2: ! vrf def v1 rd 1 : 1 exit router ospf4 1 vrf v1 router 4 . 4 . 4 . 2 area 0 ena red conn exit router ospf6 1 vrf v1 router 6 . 6 . 6 . 2 area 0 ena red conn exit int lo1 vrf for v1 ipv4 addr 2 . 2 . 2 . 2 255 . 255 . 255 . 255 ipv6 addr 4321 :: 2 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff exit int eth1 vrf for v1 ipv4 addr 1 . 1 . 1 . 2 255 . 255 . 255 . 0 ipv6 addr 1234 :: 2 ffff :: router ospf4 1 ena router ospf6 1 ena exit !","title":"Configuration"},{"location":"guides/control-plane/igp/ospf/rout-ospf01/#verification","text":"r1 ping 2 . 2 . 2 . 2 / vrf v1 r2 ping 2 . 2 . 2 . 1 / vrf v1 r1 ping 4321 :: 2 / vrf v1 r2 ping 4321 :: 1 / vrf v1 show ipv4 ospf 1 interfaces cli output show ipv4 ospf 1 neighbors cli output show ipv4 ospf 1 database 0 cli output show ipv6 ospf 1 interfaces cli output show ipv6 ospf 1 neighbors cli output show ipv6 ospf 1 database 0 cli output","title":"Verification"},{"location":"guides/control-plane/igp/ospf/rout-ospf06/","text":"Example: ospf point to point chain Establish ospf point to point adjaceny between 4 nodes Topology diagram Configuration r1: hostname r1 buggy ! logging file debug .. / binTmp / zzz - log - r1 . run ! vrf definition v1 rd 1 : 1 exit ! router ospf4 1 vrf v1 router - id 4 . 4 . 4 . 1 traffeng - id 0 . 0 . 0 . 0 area 0 enable redistribute connected exit ! router ospf6 1 vrf v1 router - id 6 . 6 . 6 . 1 traffeng - id :: area 0 enable redistribute connected exit ! interface loopback1 no description vrf forwarding v1 ipv4 address 2 . 2 . 2 . 1 255 . 255 . 255 . 255 ipv6 address 4321 :: 1 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff no shutdown no log - link - change exit ! interface ethernet1 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 1 255 . 255 . 255 . 252 ipv6 address 1234 : 1 :: 1 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! ! ! ! ! ! ! ! ! ! ! ! ! ! ! end r2: hostname r2 buggy ! logging file debug .. / binTmp / zzz - log - r2 . run ! vrf definition v1 rd 1 : 1 exit ! router ospf4 1 vrf v1 router - id 4 . 4 . 4 . 2 traffeng - id 0 . 0 . 0 . 0 area 0 enable redistribute connected exit ! router ospf6 1 vrf v1 router - id 6 . 6 . 6 . 2 traffeng - id :: area 0 enable redistribute connected exit ! interface loopback1 no description vrf forwarding v1 ipv4 address 2 . 2 . 2 . 2 255 . 255 . 255 . 255 ipv6 address 4321 :: 2 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff no shutdown no log - link - change exit ! interface ethernet1 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 2 255 . 255 . 255 . 252 ipv6 address 1234 : 1 :: 2 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! interface ethernet2 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 5 255 . 255 . 255 . 252 ipv6 address 1234 : 2 :: 1 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! ! ! ! ! ! ! ! ! ! ! ! ! ! ! end r3: hostname r3 buggy ! logging file debug .. / binTmp / zzz - log - r3 . run ! vrf definition v1 rd 1 : 1 exit ! router ospf4 1 vrf v1 router - id 4 . 4 . 4 . 3 traffeng - id 0 . 0 . 0 . 0 area 0 enable redistribute connected exit ! router ospf6 1 vrf v1 router - id 6 . 6 . 6 . 3 traffeng - id :: area 0 enable redistribute connected exit ! interface loopback1 no description vrf forwarding v1 ipv4 address 2 . 2 . 2 . 3 255 . 255 . 255 . 255 ipv6 address 4321 :: 3 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff no shutdown no log - link - change exit ! interface ethernet1 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 6 255 . 255 . 255 . 252 ipv6 address 1234 : 2 :: 2 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! interface ethernet2 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 9 255 . 255 . 255 . 252 ipv6 address 1234 : 3 :: 1 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! ! ! ! ! ! ! ! ! ! ! ! ! ! ! end r4: hostname r4 buggy ! logging file debug .. / binTmp / zzz - log - r4 . run ! vrf definition v1 rd 1 : 1 exit ! router ospf4 1 vrf v1 router - id 4 . 4 . 4 . 4 traffeng - id 0 . 0 . 0 . 0 area 0 enable redistribute connected exit ! router ospf6 1 vrf v1 router - id 6 . 6 . 6 . 4 traffeng - id :: area 0 enable redistribute connected exit ! interface loopback1 no description vrf forwarding v1 ipv4 address 2 . 2 . 2 . 4 255 . 255 . 255 . 255 ipv6 address 4321 :: 4 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff no shutdown no log - link - change exit ! interface ethernet1 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 10 255 . 255 . 255 . 252 ipv6 address 1234 : 3 :: 2 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! ! ! ! ! ! ! ! ! ! ! ! ! ! ! end Verification r2 # r2 # r2 # show ipv4 ospf 1 nei r2 # show ipv4 ospf 1 nei |~~~~~~~~~~~|~~~~~~~~~|~~~~~~~~~~|~~~~~~~~~~| | interface | address | routerid | uptime | |-----------|---------|----------|----------| | ethernet1 | 1 . 1 . 1 . 1 | 4 . 4 . 4 . 1 | 00 : 00 : 10 | | ethernet2 | 1 . 1 . 1 . 6 | 4 . 4 . 4 . 3 | 00 : 00 : 10 | | ___________ | _________ | __________ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv6 ospf 1 nei r2 # show ipv6 ospf 1 nei |~~~~~~~~~~~|~~~~~~~~~~~|~~~~~~~~~~|~~~~~~~~~~| | interface | address | routerid | uptime | |-----------|-----------|----------|----------| | ethernet1 | 1234 : 1 :: 1 | 6 . 6 . 6 . 1 | 00 : 00 : 10 | | ethernet2 | 1234 : 2 :: 2 | 6 . 6 . 6 . 3 | 00 : 00 : 10 | | ___________ | ___________ | __________ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv4 ospf 1 dat 0 r2 # show ipv4 ospf 1 dat 0 |~~~~~~~~~~|~~~~~~~~~|~~~~~~~~~~|~~~~~~~~~~~~|~~~~~|~~~~~~~~~~| | routerid | lsaid | sequence | type | len | time | |----------|---------|----------|------------|-----|----------| | 4 . 4 . 4 . 1 | 4 . 4 . 4 . 1 | 80000004 | router | 28 | 00 : 00 : 09 | | 4 . 4 . 4 . 2 | 4 . 4 . 4 . 2 | 80000006 | router | 52 | 00 : 00 : 07 | | 4 . 4 . 4 . 3 | 4 . 4 . 4 . 3 | 80000006 | router | 52 | 00 : 00 : 10 | | 4 . 4 . 4 . 4 | 4 . 4 . 4 . 4 | 80000004 | router | 28 | 00 : 00 : 07 | | 4 . 4 . 4 . 2 | 0 . 0 . 0 . 0 | 80000004 | asExternal | 16 | 01 : 00 : 11 | | 4 . 4 . 4 . 3 | 0 . 0 . 0 . 0 | 80000004 | asExternal | 16 | 01 : 00 : 10 | | 4 . 4 . 4 . 4 | 0 . 0 . 0 . 0 | 80000004 | asExternal | 16 | 01 : 00 : 11 | | 4 . 4 . 4 . 1 | 1 . 1 . 1 . 0 | 80000001 | asExternal | 16 | 00 : 00 : 10 | | 4 . 4 . 4 . 2 | 1 . 1 . 1 . 0 | 80000001 | asExternal | 16 | 00 : 00 : 11 | | 4 . 4 . 4 . 2 | 1 . 1 . 1 . 4 | 80000001 | asExternal | 16 | 00 : 00 : 11 | | 4 . 4 . 4 . 3 | 1 . 1 . 1 . 4 | 80000001 | asExternal | 16 | 00 : 00 : 11 | | 4 . 4 . 4 . 3 | 1 . 1 . 1 . 8 | 80000001 | asExternal | 16 | 00 : 00 : 10 | | 4 . 4 . 4 . 4 | 1 . 1 . 1 . 8 | 80000001 | asExternal | 16 | 00 : 00 : 11 | | 4 . 4 . 4 . 1 | 2 . 2 . 2 . 1 | 80000001 | asExternal | 16 | 00 : 00 : 11 | | 4 . 4 . 4 . 2 | 2 . 2 . 2 . 2 | 80000001 | asExternal | 16 | 00 : 00 : 11 | | 4 . 4 . 4 . 3 | 2 . 2 . 2 . 3 | 80000001 | asExternal | 16 | 00 : 00 : 11 | | 4 . 4 . 4 . 4 | 2 . 2 . 2 . 4 | 80000001 | asExternal | 16 | 00 : 00 : 11 | | __________ | _________ | __________ | ____________ | _____ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv6 ospf 1 dat 0 r2 # show ipv6 ospf 1 dat 0 |~~~~~~~~~~|~~~~~~~|~~~~~~~~~~|~~~~~~~~~~~~|~~~~~|~~~~~~~~~~| | routerid | lsaid | sequence | type | len | time | |----------|-------|----------|------------|-----|----------| | 6 . 6 . 6 . 1 | 10012 | 80000001 | link | 24 | 00 : 00 : 10 | | 6 . 6 . 6 . 2 | 10012 | 80000001 | link | 24 | 00 : 00 : 11 | | 6 . 6 . 6 . 3 | 10012 | 80000001 | link | 24 | 00 : 00 : 11 | | 6 . 6 . 6 . 4 | 10012 | 80000001 | link | 24 | 00 : 00 : 11 | | 6 . 6 . 6 . 2 | 10013 | 80000001 | link | 24 | 00 : 00 : 11 | | 6 . 6 . 6 . 3 | 10013 | 80000001 | link | 24 | 00 : 00 : 10 | | 6 . 6 . 6 . 1 | 0 | 80000003 | router | 20 | 00 : 00 : 09 | | 6 . 6 . 6 . 2 | 0 | 80000004 | router | 36 | 00 : 00 : 07 | | 6 . 6 . 6 . 3 | 0 | 80000004 | router | 36 | 00 : 00 : 10 | | 6 . 6 . 6 . 4 | 0 | 80000003 | router | 20 | 00 : 00 : 07 | | 6 . 6 . 6 . 1 | 10012 | 80000001 | prefix | 20 | 00 : 00 : 10 | | 6 . 6 . 6 . 2 | 10012 | 80000001 | prefix | 20 | 00 : 00 : 11 | | 6 . 6 . 6 . 3 | 10012 | 80000001 | prefix | 20 | 00 : 00 : 11 | | 6 . 6 . 6 . 4 | 10012 | 80000001 | prefix | 20 | 00 : 00 : 11 | | 6 . 6 . 6 . 2 | 10013 | 80000001 | prefix | 20 | 00 : 00 : 11 | | 6 . 6 . 6 . 3 | 10013 | 80000001 | prefix | 20 | 00 : 00 : 10 | | 6 . 6 . 6 . 1 | 0 | 80000002 | asExternal | 16 | 00 : 00 : 10 | | 6 . 6 . 6 . 2 | 0 | 80000005 | asExternal | 16 | 00 : 00 : 11 | | 6 . 6 . 6 . 3 | 0 | 80000005 | asExternal | 16 | 00 : 00 : 10 | | 6 . 6 . 6 . 4 | 0 | 80000002 | asExternal | 16 | 00 : 00 : 11 | | 6 . 6 . 6 . 1 | 1 | 80000001 | asExternal | 28 | 00 : 00 : 10 | | 6 . 6 . 6 . 2 | 1 | 80000003 | asExternal | 16 | 00 : 00 : 11 | | 6 . 6 . 6 . 3 | 1 | 80000003 | asExternal | 16 | 00 : 00 : 10 | | 6 . 6 . 6 . 4 | 1 | 80000001 | asExternal | 28 | 00 : 00 : 11 | | 6 . 6 . 6 . 2 | 2 | 80000001 | asExternal | 28 | 00 : 00 : 11 | | 6 . 6 . 6 . 3 | 2 | 80000001 | asExternal | 28 | 00 : 00 : 10 | | __________ | _______ | __________ | ____________ | _____ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv4 ospf 1 tre 0 r2 # show ipv4 ospf 1 tre 0 ` -- 4 . 4 . 4 . 2 | ` -- 4 . 4 . 4 . 1 ` -- 4 . 4 . 4 . 3 ` -- 4 . 4 . 4 . 4 r2 # r2 # r2 # r2 # r2 # show ipv6 ospf 1 tre 0 r2 # show ipv6 ospf 1 tre 0 ` -- 6 . 6 . 6 . 2 / 00000000 | ` -- 6 . 6 . 6 . 1 / 00000000 ` -- 6 . 6 . 6 . 3 / 00000000 ` -- 6 . 6 . 6 . 4 / 00000000 r2 # r2 # r2 # r2 # r2 # show ipv4 route v1 r2 # show ipv4 route v1 |~~~~~|~~~~~~~~~~~~|~~~~~~~~|~~~~~~~~~~~|~~~~~~~~~|~~~~~~~~~~| | typ | prefix | metric | iface | hop | time | |-----|------------|--------|-----------|---------|----------| | C | 1 . 1 . 1 . 0 / 30 | 0 / 0 | ethernet1 | null | 00 : 00 : 08 | | LOC | 1 . 1 . 1 . 2 / 32 | 0 / 1 | ethernet1 | null | 00 : 00 : 08 | | C | 1 . 1 . 1 . 4 / 30 | 0 / 0 | ethernet2 | null | 00 : 00 : 08 | | LOC | 1 . 1 . 1 . 5 / 32 | 0 / 1 | ethernet2 | null | 00 : 00 : 08 | | O | 1 . 1 . 1 . 8 / 30 | 110 / 1 | ethernet2 | 1 . 1 . 1 . 6 | 00 : 00 : 08 | | O | 2 . 2 . 2 . 1 / 32 | 110 / 0 | ethernet1 | 1 . 1 . 1 . 1 | 00 : 00 : 08 | | C | 2 . 2 . 2 . 2 / 32 | 0 / 0 | loopback1 | null | 00 : 00 : 08 | | O | 2 . 2 . 2 . 3 / 32 | 110 / 0 | ethernet2 | 1 . 1 . 1 . 6 | 00 : 00 : 08 | | O | 2 . 2 . 2 . 4 / 32 | 110 / 0 | ethernet2 | 1 . 1 . 1 . 6 | 00 : 00 : 08 | | _____ | ____________ | ________ | ___________ | _________ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv6 route v1 r2 # show ipv6 route v1 |~~~~~|~~~~~~~~~~~~~~~|~~~~~~~~|~~~~~~~~~~~|~~~~~~~~~~~|~~~~~~~~~~| | typ | prefix | metric | iface | hop | time | |-----|---------------|--------|-----------|-----------|----------| | C | 1234 : 1 :: / 32 | 0 / 0 | ethernet1 | null | 00 : 00 : 08 | | LOC | 1234 : 1 :: 2 / 128 | 0 / 1 | ethernet1 | null | 00 : 00 : 08 | | C | 1234 : 2 :: / 32 | 0 / 0 | ethernet2 | null | 00 : 00 : 08 | | LOC | 1234 : 2 :: 1 / 128 | 0 / 1 | ethernet2 | null | 00 : 00 : 08 | | O | 1234 : 3 :: / 32 | 110 / 1 | ethernet2 | 1234 : 2 :: 2 | 00 : 00 : 08 | | O | 4321 :: 1 / 128 | 110 / 0 | ethernet1 | 1234 : 1 :: 1 | 00 : 00 : 08 | | C | 4321 :: 2 / 128 | 0 / 0 | loopback1 | null | 00 : 00 : 08 | | O | 4321 :: 3 / 128 | 110 / 0 | ethernet2 | 1234 : 2 :: 2 | 00 : 00 : 08 | | O | 4321 :: 4 / 128 | 110 / 0 | ethernet2 | 1234 : 2 :: 2 | 00 : 00 : 08 | | _____ | _______________ | ________ | ___________ | ___________ | __________ | r2 # r2 #","title":"Example: ospf point to point chain"},{"location":"guides/control-plane/igp/ospf/rout-ospf06/#example-ospf-point-to-point-chain","text":"Establish ospf point to point adjaceny between 4 nodes","title":"Example: ospf point to point chain"},{"location":"guides/control-plane/igp/ospf/rout-ospf06/#topology-diagram","text":"","title":"Topology diagram"},{"location":"guides/control-plane/igp/ospf/rout-ospf06/#configuration","text":"r1: hostname r1 buggy ! logging file debug .. / binTmp / zzz - log - r1 . run ! vrf definition v1 rd 1 : 1 exit ! router ospf4 1 vrf v1 router - id 4 . 4 . 4 . 1 traffeng - id 0 . 0 . 0 . 0 area 0 enable redistribute connected exit ! router ospf6 1 vrf v1 router - id 6 . 6 . 6 . 1 traffeng - id :: area 0 enable redistribute connected exit ! interface loopback1 no description vrf forwarding v1 ipv4 address 2 . 2 . 2 . 1 255 . 255 . 255 . 255 ipv6 address 4321 :: 1 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff no shutdown no log - link - change exit ! interface ethernet1 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 1 255 . 255 . 255 . 252 ipv6 address 1234 : 1 :: 1 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! ! ! ! ! ! ! ! ! ! ! ! ! ! ! end r2: hostname r2 buggy ! logging file debug .. / binTmp / zzz - log - r2 . run ! vrf definition v1 rd 1 : 1 exit ! router ospf4 1 vrf v1 router - id 4 . 4 . 4 . 2 traffeng - id 0 . 0 . 0 . 0 area 0 enable redistribute connected exit ! router ospf6 1 vrf v1 router - id 6 . 6 . 6 . 2 traffeng - id :: area 0 enable redistribute connected exit ! interface loopback1 no description vrf forwarding v1 ipv4 address 2 . 2 . 2 . 2 255 . 255 . 255 . 255 ipv6 address 4321 :: 2 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff no shutdown no log - link - change exit ! interface ethernet1 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 2 255 . 255 . 255 . 252 ipv6 address 1234 : 1 :: 2 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! interface ethernet2 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 5 255 . 255 . 255 . 252 ipv6 address 1234 : 2 :: 1 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! ! ! ! ! ! ! ! ! ! ! ! ! ! ! end r3: hostname r3 buggy ! logging file debug .. / binTmp / zzz - log - r3 . run ! vrf definition v1 rd 1 : 1 exit ! router ospf4 1 vrf v1 router - id 4 . 4 . 4 . 3 traffeng - id 0 . 0 . 0 . 0 area 0 enable redistribute connected exit ! router ospf6 1 vrf v1 router - id 6 . 6 . 6 . 3 traffeng - id :: area 0 enable redistribute connected exit ! interface loopback1 no description vrf forwarding v1 ipv4 address 2 . 2 . 2 . 3 255 . 255 . 255 . 255 ipv6 address 4321 :: 3 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff no shutdown no log - link - change exit ! interface ethernet1 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 6 255 . 255 . 255 . 252 ipv6 address 1234 : 2 :: 2 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! interface ethernet2 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 9 255 . 255 . 255 . 252 ipv6 address 1234 : 3 :: 1 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! ! ! ! ! ! ! ! ! ! ! ! ! ! ! end r4: hostname r4 buggy ! logging file debug .. / binTmp / zzz - log - r4 . run ! vrf definition v1 rd 1 : 1 exit ! router ospf4 1 vrf v1 router - id 4 . 4 . 4 . 4 traffeng - id 0 . 0 . 0 . 0 area 0 enable redistribute connected exit ! router ospf6 1 vrf v1 router - id 6 . 6 . 6 . 4 traffeng - id :: area 0 enable redistribute connected exit ! interface loopback1 no description vrf forwarding v1 ipv4 address 2 . 2 . 2 . 4 255 . 255 . 255 . 255 ipv6 address 4321 :: 4 ffff : ffff : ffff : ffff : ffff : ffff : ffff : ffff no shutdown no log - link - change exit ! interface ethernet1 no description vrf forwarding v1 ipv4 address 1 . 1 . 1 . 10 255 . 255 . 255 . 252 ipv6 address 1234 : 3 :: 2 ffff : ffff :: router ospf4 1 enable router ospf4 1 area 0 router ospf6 1 enable router ospf6 1 area 0 no shutdown no log - link - change exit ! ! ! ! ! ! ! ! ! ! ! ! ! ! ! end","title":"Configuration"},{"location":"guides/control-plane/igp/ospf/rout-ospf06/#verification","text":"r2 # r2 # r2 # show ipv4 ospf 1 nei r2 # show ipv4 ospf 1 nei |~~~~~~~~~~~|~~~~~~~~~|~~~~~~~~~~|~~~~~~~~~~| | interface | address | routerid | uptime | |-----------|---------|----------|----------| | ethernet1 | 1 . 1 . 1 . 1 | 4 . 4 . 4 . 1 | 00 : 00 : 10 | | ethernet2 | 1 . 1 . 1 . 6 | 4 . 4 . 4 . 3 | 00 : 00 : 10 | | ___________ | _________ | __________ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv6 ospf 1 nei r2 # show ipv6 ospf 1 nei |~~~~~~~~~~~|~~~~~~~~~~~|~~~~~~~~~~|~~~~~~~~~~| | interface | address | routerid | uptime | |-----------|-----------|----------|----------| | ethernet1 | 1234 : 1 :: 1 | 6 . 6 . 6 . 1 | 00 : 00 : 10 | | ethernet2 | 1234 : 2 :: 2 | 6 . 6 . 6 . 3 | 00 : 00 : 10 | | ___________ | ___________ | __________ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv4 ospf 1 dat 0 r2 # show ipv4 ospf 1 dat 0 |~~~~~~~~~~|~~~~~~~~~|~~~~~~~~~~|~~~~~~~~~~~~|~~~~~|~~~~~~~~~~| | routerid | lsaid | sequence | type | len | time | |----------|---------|----------|------------|-----|----------| | 4 . 4 . 4 . 1 | 4 . 4 . 4 . 1 | 80000004 | router | 28 | 00 : 00 : 09 | | 4 . 4 . 4 . 2 | 4 . 4 . 4 . 2 | 80000006 | router | 52 | 00 : 00 : 07 | | 4 . 4 . 4 . 3 | 4 . 4 . 4 . 3 | 80000006 | router | 52 | 00 : 00 : 10 | | 4 . 4 . 4 . 4 | 4 . 4 . 4 . 4 | 80000004 | router | 28 | 00 : 00 : 07 | | 4 . 4 . 4 . 2 | 0 . 0 . 0 . 0 | 80000004 | asExternal | 16 | 01 : 00 : 11 | | 4 . 4 . 4 . 3 | 0 . 0 . 0 . 0 | 80000004 | asExternal | 16 | 01 : 00 : 10 | | 4 . 4 . 4 . 4 | 0 . 0 . 0 . 0 | 80000004 | asExternal | 16 | 01 : 00 : 11 | | 4 . 4 . 4 . 1 | 1 . 1 . 1 . 0 | 80000001 | asExternal | 16 | 00 : 00 : 10 | | 4 . 4 . 4 . 2 | 1 . 1 . 1 . 0 | 80000001 | asExternal | 16 | 00 : 00 : 11 | | 4 . 4 . 4 . 2 | 1 . 1 . 1 . 4 | 80000001 | asExternal | 16 | 00 : 00 : 11 | | 4 . 4 . 4 . 3 | 1 . 1 . 1 . 4 | 80000001 | asExternal | 16 | 00 : 00 : 11 | | 4 . 4 . 4 . 3 | 1 . 1 . 1 . 8 | 80000001 | asExternal | 16 | 00 : 00 : 10 | | 4 . 4 . 4 . 4 | 1 . 1 . 1 . 8 | 80000001 | asExternal | 16 | 00 : 00 : 11 | | 4 . 4 . 4 . 1 | 2 . 2 . 2 . 1 | 80000001 | asExternal | 16 | 00 : 00 : 11 | | 4 . 4 . 4 . 2 | 2 . 2 . 2 . 2 | 80000001 | asExternal | 16 | 00 : 00 : 11 | | 4 . 4 . 4 . 3 | 2 . 2 . 2 . 3 | 80000001 | asExternal | 16 | 00 : 00 : 11 | | 4 . 4 . 4 . 4 | 2 . 2 . 2 . 4 | 80000001 | asExternal | 16 | 00 : 00 : 11 | | __________ | _________ | __________ | ____________ | _____ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv6 ospf 1 dat 0 r2 # show ipv6 ospf 1 dat 0 |~~~~~~~~~~|~~~~~~~|~~~~~~~~~~|~~~~~~~~~~~~|~~~~~|~~~~~~~~~~| | routerid | lsaid | sequence | type | len | time | |----------|-------|----------|------------|-----|----------| | 6 . 6 . 6 . 1 | 10012 | 80000001 | link | 24 | 00 : 00 : 10 | | 6 . 6 . 6 . 2 | 10012 | 80000001 | link | 24 | 00 : 00 : 11 | | 6 . 6 . 6 . 3 | 10012 | 80000001 | link | 24 | 00 : 00 : 11 | | 6 . 6 . 6 . 4 | 10012 | 80000001 | link | 24 | 00 : 00 : 11 | | 6 . 6 . 6 . 2 | 10013 | 80000001 | link | 24 | 00 : 00 : 11 | | 6 . 6 . 6 . 3 | 10013 | 80000001 | link | 24 | 00 : 00 : 10 | | 6 . 6 . 6 . 1 | 0 | 80000003 | router | 20 | 00 : 00 : 09 | | 6 . 6 . 6 . 2 | 0 | 80000004 | router | 36 | 00 : 00 : 07 | | 6 . 6 . 6 . 3 | 0 | 80000004 | router | 36 | 00 : 00 : 10 | | 6 . 6 . 6 . 4 | 0 | 80000003 | router | 20 | 00 : 00 : 07 | | 6 . 6 . 6 . 1 | 10012 | 80000001 | prefix | 20 | 00 : 00 : 10 | | 6 . 6 . 6 . 2 | 10012 | 80000001 | prefix | 20 | 00 : 00 : 11 | | 6 . 6 . 6 . 3 | 10012 | 80000001 | prefix | 20 | 00 : 00 : 11 | | 6 . 6 . 6 . 4 | 10012 | 80000001 | prefix | 20 | 00 : 00 : 11 | | 6 . 6 . 6 . 2 | 10013 | 80000001 | prefix | 20 | 00 : 00 : 11 | | 6 . 6 . 6 . 3 | 10013 | 80000001 | prefix | 20 | 00 : 00 : 10 | | 6 . 6 . 6 . 1 | 0 | 80000002 | asExternal | 16 | 00 : 00 : 10 | | 6 . 6 . 6 . 2 | 0 | 80000005 | asExternal | 16 | 00 : 00 : 11 | | 6 . 6 . 6 . 3 | 0 | 80000005 | asExternal | 16 | 00 : 00 : 10 | | 6 . 6 . 6 . 4 | 0 | 80000002 | asExternal | 16 | 00 : 00 : 11 | | 6 . 6 . 6 . 1 | 1 | 80000001 | asExternal | 28 | 00 : 00 : 10 | | 6 . 6 . 6 . 2 | 1 | 80000003 | asExternal | 16 | 00 : 00 : 11 | | 6 . 6 . 6 . 3 | 1 | 80000003 | asExternal | 16 | 00 : 00 : 10 | | 6 . 6 . 6 . 4 | 1 | 80000001 | asExternal | 28 | 00 : 00 : 11 | | 6 . 6 . 6 . 2 | 2 | 80000001 | asExternal | 28 | 00 : 00 : 11 | | 6 . 6 . 6 . 3 | 2 | 80000001 | asExternal | 28 | 00 : 00 : 10 | | __________ | _______ | __________ | ____________ | _____ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv4 ospf 1 tre 0 r2 # show ipv4 ospf 1 tre 0 ` -- 4 . 4 . 4 . 2 | ` -- 4 . 4 . 4 . 1 ` -- 4 . 4 . 4 . 3 ` -- 4 . 4 . 4 . 4 r2 # r2 # r2 # r2 # r2 # show ipv6 ospf 1 tre 0 r2 # show ipv6 ospf 1 tre 0 ` -- 6 . 6 . 6 . 2 / 00000000 | ` -- 6 . 6 . 6 . 1 / 00000000 ` -- 6 . 6 . 6 . 3 / 00000000 ` -- 6 . 6 . 6 . 4 / 00000000 r2 # r2 # r2 # r2 # r2 # show ipv4 route v1 r2 # show ipv4 route v1 |~~~~~|~~~~~~~~~~~~|~~~~~~~~|~~~~~~~~~~~|~~~~~~~~~|~~~~~~~~~~| | typ | prefix | metric | iface | hop | time | |-----|------------|--------|-----------|---------|----------| | C | 1 . 1 . 1 . 0 / 30 | 0 / 0 | ethernet1 | null | 00 : 00 : 08 | | LOC | 1 . 1 . 1 . 2 / 32 | 0 / 1 | ethernet1 | null | 00 : 00 : 08 | | C | 1 . 1 . 1 . 4 / 30 | 0 / 0 | ethernet2 | null | 00 : 00 : 08 | | LOC | 1 . 1 . 1 . 5 / 32 | 0 / 1 | ethernet2 | null | 00 : 00 : 08 | | O | 1 . 1 . 1 . 8 / 30 | 110 / 1 | ethernet2 | 1 . 1 . 1 . 6 | 00 : 00 : 08 | | O | 2 . 2 . 2 . 1 / 32 | 110 / 0 | ethernet1 | 1 . 1 . 1 . 1 | 00 : 00 : 08 | | C | 2 . 2 . 2 . 2 / 32 | 0 / 0 | loopback1 | null | 00 : 00 : 08 | | O | 2 . 2 . 2 . 3 / 32 | 110 / 0 | ethernet2 | 1 . 1 . 1 . 6 | 00 : 00 : 08 | | O | 2 . 2 . 2 . 4 / 32 | 110 / 0 | ethernet2 | 1 . 1 . 1 . 6 | 00 : 00 : 08 | | _____ | ____________ | ________ | ___________ | _________ | __________ | r2 # r2 # r2 # r2 # r2 # show ipv6 route v1 r2 # show ipv6 route v1 |~~~~~|~~~~~~~~~~~~~~~|~~~~~~~~|~~~~~~~~~~~|~~~~~~~~~~~|~~~~~~~~~~| | typ | prefix | metric | iface | hop | time | |-----|---------------|--------|-----------|-----------|----------| | C | 1234 : 1 :: / 32 | 0 / 0 | ethernet1 | null | 00 : 00 : 08 | | LOC | 1234 : 1 :: 2 / 128 | 0 / 1 | ethernet1 | null | 00 : 00 : 08 | | C | 1234 : 2 :: / 32 | 0 / 0 | ethernet2 | null | 00 : 00 : 08 | | LOC | 1234 : 2 :: 1 / 128 | 0 / 1 | ethernet2 | null | 00 : 00 : 08 | | O | 1234 : 3 :: / 32 | 110 / 1 | ethernet2 | 1234 : 2 :: 2 | 00 : 00 : 08 | | O | 4321 :: 1 / 128 | 110 / 0 | ethernet1 | 1234 : 1 :: 1 | 00 : 00 : 08 | | C | 4321 :: 2 / 128 | 0 / 0 | loopback1 | null | 00 : 00 : 08 | | O | 4321 :: 3 / 128 | 110 / 0 | ethernet2 | 1234 : 2 :: 2 | 00 : 00 : 08 | | O | 4321 :: 4 / 128 | 110 / 0 | ethernet2 | 1234 : 2 :: 2 | 00 : 00 : 08 | | _____ | _______________ | ________ | ___________ | ___________ | __________ | r2 # r2 #","title":"Verification"},{"location":"guides/data-plane/","text":"Data plane configuration guide","title":"**Data plane configuration guide**"},{"location":"guides/data-plane/#data-plane-configuration-guide","text":"","title":"Data plane configuration guide"},{"location":"guides/mgmt-plane/","text":"Network management configuration guide","title":"**Network management configuration guide**"},{"location":"guides/mgmt-plane/#network-management-configuration-guide","text":"","title":"Network management configuration guide"},{"location":"guides/svc-plane/","text":"Network service configuration guide","title":"**Network service configuration guide**"},{"location":"guides/svc-plane/#network-service-configuration-guide","text":"","title":"Network service configuration guide"}]}